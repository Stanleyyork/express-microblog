<!DOCTYPE html>
<html lang="en">
<head>
	<!-- set viewport to device width to make site responsive -->
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- bootstrap css -->
	<link type="text/css" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

	<!-- custom styles -->
	<link rel="stylesheet" type="text/css" href="/styles/main.css">
	<meta charset="UTF-8">
	<title>All Posts</title>
</head>
<body>

	<div class="row">
	<div class="col-sm-6" id="header">
	<div id="all-posts-title">All Posts</div>
	<span class="badge" id="total-count-badge"></span>
	</div>
	<div class="col-sm-6" id="new-post-button">
	<button type="button" class="btn btn-info" data-toggle="modal" data-target="#NewPostModal">New Post</button>
	</div>
	</div>

	

	<div class="modal fade" id="NewPostModal" tabindex="-1" role="dialog" aria-labelledby="NewPostModal">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title" id="NewPostModal">New Post</h4>
	      </div>
	      <form class="new-post-form">
		      <div class="modal-body">
		          <div class="form-group">
		            <label for="new-title" class="control-label">Title</label>
		            <input type="text" class="form-control" id="new-title">
		          </div>
		          <div class="form-group">
		            <label for="new-body" class="control-label">Body</label>
		            <textarea class="form-control" id="new-body"></textarea>
		          </div>
		          <div class="form-group">
		            <label for="new-url" class="control-label">URL</label>
		            <input type="text" class="form-control" id="new-url">
		          </div>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		        <input type="submit" class="btn btn-info" value="submit"></input>
		      </div>
	      </form>
	    </div>
	  </div>
	</div>
	
	<div class="row"  id="posts-list">
		<script id="posts-template" type="text/x-handlebars-template">
		\{{#each posts}}
		<div class="thumbnail" id="thumbnail-posts-list">
			<a href="http://localhost:3000/posts/\{{_id}}">\{{title}}</a><br>
			<p>\{{body}}<br>
				\{{url}}</p>
		
			<div class="glyphicon glyphicon-heart" id="post-favorite"></div>
			<!-- edit button to toggle form -->
	        <a href="javascript:void(0)" class="edit-form" data-toggle="collapse" data-target="#update-\{{_id}}"><div class="glyphicon glyphicon-pencil"></div>
	        </a>
	          
	        <!-- delete button -->
	        <div class="glyphicon glyphicon-trash" id="delete-post-form" data-id="{{_id}}"></div>
	          
	        <!-- form to update post -->
	        <div class="collapse" id="update-\{{_id}}">
	          <br>
	          <form class="edit-form">
	            <div class="form-group">
	              <input type="text" name="title" class="form-control" placeholder="Title" value="\{{title}}" id="updateTitle">
	            </div>
	            <div class="form-group">
	              <input type="text" name="body" class="form-control" placeholder="Body" value="\{{body}}" id="updateBody">
	            </div>
	            <div class="form-group">
	              <input type="text" name="url" class="form-control" placeholder="URL" value="\{{url}}" id="updateURL">
	            </div>
	            <div class="form-group">
	              <input type="checkbox" name="favorite" class="form-control" placeholder="Favorite" value="\{{favorite}}" id="updateFavorite">
	            </div>
	            <div class="form-group">
	              <input type="hidden" name="id" class="form-control" value="\{{_id}}" id="updateId">
	            </div>
	            <div class="form-group">
	              <input type="submit" class="btn btn-block btn-info" value="Update">
	            </div>
	          </form>
	        </div>

	    </div>
        \{{/each}}
		</script>
	</div>


	<!-- jquery -->
  	<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

  	<!-- bootstrap js -->
  	<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

  	<!-- handlebars -->
  	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
  	<script type="text/javascript" src="/scripts/script.js"></script>
	
</body>
</html>